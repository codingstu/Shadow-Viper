# SpiderFlow 文档总览

**最后更新**：2026-01-01 Round 5 23:10  
**维护人**：AI Assistant

---

## ⚡ 每次对话完成后的文档更新检查清单

**复制这个清单到每次对话结束时使用：**

```
【文档更新检查清单】

□ 第一步：记录改动到 CHANGELOG.md
  □ 新增 Round 号（递增：Round 4, Round 5, ...）
  □ 添加时间戳和主题
  □ 列出所有改动项：
    □ 文件路径
    □ 改动代码（改动前 → 改动后）
    □ 详细说明
    □ 影响分析

□ 第二步：同步更新其他文档
  □ 架构有变？→ 更新 PROJECT_ARCHITECTURE.md
    □ 架构图有变？
    □ 流程图有变？
    □ 新增模块？
  
  □ 新增/修改 API？→ 更新 API_REFERENCE.md
    □ 新端点？
    □ 参数变化？
    □ 响应格式变化？
    □ 添加测试命令？
  
  □ 数据结构改？→ 同时更新上述两个文档

□ 第三步：验证
  □ 没有遗漏改动
  □ 代码对比清晰准确
  □ 文档内容一致
  □ 链接可用

✅ 完成！提交代码
```

---

## 📚 文档导航

### 🎯 快速开始
1. **[PROJECT_ARCHITECTURE.md](PROJECT_ARCHITECTURE.md)** ← **从这里开始**
   - 整体架构说明
   - 功能模块介绍
   - 工作流程图解
   - 数据结构定义
   - **适合**：新开发者、需要全局理解

2. **[API_REFERENCE.md](API_REFERENCE.md)**
   - 所有 API 端点详细文档
   - 请求/响应示例
   - 测试命令集合
   - **适合**：前后端联调、集成开发

3. **[CHANGELOG.md](CHANGELOG.md)**
   - 所有改动历史（按时间倒序）
   - 详细的代码对比
   - 改动说明和影响分析
   - **适合**：Code Review、维护升级、问题溯源

---

## 📖 如何使用这些文档

### 场景 1：我是新开发者，想快速上手
```
1. 阅读 PROJECT_ARCHITECTURE.md
   ├─ 了解整体架构
   ├─ 理解核心流程（扫描 → 检测 → 分组）
   └─ 掌握数据结构
   
2. 快速启动：see "快速启动" section
   ├─ 启动后端
   ├─ 启动前端
   └─ 看首页仪表盘
   
3. 需要联调时：查看 API_REFERENCE.md
```

### 场景 2：我需要修改某个功能
```
1. 查看 CHANGELOG.md
   ├─ 搜索相关改动
   ├─ 理解历史设计
   └─ 避免重复劳动
   
2. 定位代码文件
   ├─ 参考 PROJECT_ARCHITECTURE.md 的"文件索引"
   └─ 打开对应文件
   
3. 参考 CHANGELOG 中的详细代码对比
   ├─ 看改动前后的差异
   └─ 确保新改动不冲突
```

### 场景 3：我要添加新功能
```
1. 先问：这个功能属于哪个模块？
   ├─ 节点检测 → node_hunter.py
   ├─ API 路由 → main.py
   ├─ 前端展示 → NodeHunter.vue
   └─ 国家识别 → _guess_country_from_name()
   
2. 查 CHANGELOG 看有无相关改动
   
3. 按照既有模式编码
   
4. **完成后更新文档：**
   ├─ 加入 CHANGELOG.md（新 Round）
   ├─ 更新 PROJECT_ARCHITECTURE.md（如涉及架构变化）
   └─ 更新 API_REFERENCE.md（如新增 API）
```

### 场景 4：我要追溯某个 Bug
```
1. 打开 CHANGELOG.md
   
2. 搜索相关关键词
   ├─ "国家识别"
   ├─ "日志滚动"
   └─ 等等
   
3. 查看改动历史
   ├─ 看代码对比
   ├─ 理解为什么这样改
   └─ 对比当前代码是否一致
```

---

## 📋 文档结构说明

### PROJECT_ARCHITECTURE.md

**内容**：
- 项目整体架构（代码树）
- NodeHunter 核心功能
- 扫描流程图解
- 国家识别三层逻辑
- 显示控制开关原理
- 技术栈
- 快速启动
- 重要概念解释

**更新时机**：
- 架构大调整
- 添加新模块
- 修改核心流程
- 添加新的数据结构

---

### API_REFERENCE.md

**内容**：
- 所有 API 端点详细文档
- 请求/响应格式
- 参数说明表格
- 错误处理
- 测试命令

**更新时机**：
- 新增 API 端点
- 修改 API 参数
- 改变响应格式
- 修改错误处理

---

### CHANGELOG.md

**内容**：
- 按 Round 组织的改动记录
- 每个改动包含：
  - 文件路径
  - 改动类型（新功能/优化/修复）
  - 详细代码对比
  - 改动说明
  - 影响分析

**更新时机**：
- 每完成一个改动（立即更新）
- 每次对话结束（汇总本轮改动）

---

## 🔄 工作流程

### 每次开发完成后的文档更新

```
开发完成
    ↓
1. 在 CHANGELOG.md 中新增 Round
   ├─ Round 号（递增）
   ├─ 时间戳
   ├─ 主题
   └─ 详细改动列表
       ├─ 文件路径
       ├─ 改动代码（改动前 → 改动后）
       ├─ 说明
       └─ 影响分析
       
2. 更新 PROJECT_ARCHITECTURE.md
   ├─ 如有架构变化：更新架构图
   ├─ 如有流程变化：更新流程图
   └─ 如有新 API：更新"API 端点"表格
   
3. 更新 API_REFERENCE.md
   ├─ 新增/修改 API 文档
   └─ 补充测试命令
   
4. 提交代码
```

---

## 📊 文档统计

| 文档 | 大小 | 最后更新 | 完成度 |
|------|------|---------|--------|
| PROJECT_ARCHITECTURE.md | ~6KB | 2025-12-31 | ✅ 100% |
| API_REFERENCE.md | ~8KB | 2025-12-31 | ✅ 100% |
| CHANGELOG.md | ~15KB | 2025-12-31 | ✅ 100% |
| **总计** | **~29KB** | 2025-12-31 | **✅ 100%** |

---

## ✅ 文档覆盖范围

### 已覆盖

- [x] 项目架构和模块说明
- [x] NodeHunter 核心流程
- [x] 国家识别完整逻辑
- [x] 显示控制实现方式
- [x] 前后端交互模式
- [x] 所有 API 端点（8 个）
- [x] 数据结构定义
- [x] 技术栈说明
- [x] 改动历史（3 个 Round）
- [x] 测试命令集合

### 暂未覆盖

- [ ] 部署文档（Docker/云服务器）
- [ ] 性能优化指南
- [ ] 常见故障排查
- [ ] 贡献者指南

---

## 🎯 下一步改进

### 短期（下 1-2 轮）

1. **补充快速故障排查**
   - 常见错误和解决方案
   - 日志关键词索引
   - 性能瓶颈分析

2. **补充部署指南**
   - Docker 容器化
   - 云服务器部署（AWS/阿里云）
   - 配置说明

### 中期（下 3-5 轮）

1. **补充性能优化指南**
   - 缓存策略
   - 并发度调整
   - 内存优化

2. **补充贡献者指南**
   - 代码风格约定
   - PR 提交流程
   - 测试覆盖率要求

### 长期

1. **搭建 Wiki 平台**（如 GitBook）
2. **添加交互式教程**
3. **视频演示**

---

## 💡 文档最佳实践

### DO ✅

- [x] 每次改动都更新对应文档
- [x] 代码对比要清晰（改动前 → 改动后）
- [x] 添加详细的说明和影响分析
- [x] 使用表格、流程图等可视化
- [x] 提供具体的示例和测试命令
- [x] 定期整理和优化文档结构

### DON'T ❌

- [ ] 不要忽视文档更新
- [ ] 不要写过于简略的改动说明
- [ ] 不要让文档信息过期
- [ ] 不要重复记录相同改动
- [ ] 不要混淆改动的影响范围

---

## 📞 问题反馈

发现文档问题或有改进建议？

1. 查看 CHANGELOG.md 确认改动是否已记录
2. 确认 PROJECT_ARCHITECTURE.md 是否需要更新
3. 检查 API_REFERENCE.md 中的示例是否正确

---

## 🔗 快速链接

- [回到项目架构](PROJECT_ARCHITECTURE.md)
- [查看 API 文档](API_REFERENCE.md)
- [查看改动历史](CHANGELOG.md)
- [返回项目根目录](README.md)

---

**文档维护**：AI Assistant  
**最后审查**：2025-12-31 23:10  
**下次计划审查**：下一个 Round 完成后
